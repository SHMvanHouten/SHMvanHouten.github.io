exercise 1: Artist with the most songs (on name of the artist)<br>
<br>
To connect tracks to artist you need to go through album, so to make a simple first step let's try to get a list of amounts of albums each artist has listed. First Step:
<pre>
SELECT Name, COUNT(Album.AlbumId)
FROM Album
JOIN Artist ON Album.ArtistId = Artist.ArtistId
GROUP BY Artist.Name;
</pre>
This works. Now we can try to list all the tracks one artist has made, meaning we have to join the track table to the album table. We'll do just for Pink Floyd since only Dark Side of the Moon is listed on there which will make our list shorter.
<pre>
SELECT Album.Title, Track.Name
FROM Album
JOIN Artist ON Album.ArtistId = Artist.ArtistId
JOIN Track ON Album.AlbumId = Track.AlbumId
Where Artist.name = 'Pink Floyd'
</pre>
And we get a nice list of the 9 tracks on dark side of the moon.<br>
Now we are ready to get to answering our question:
<pre>
SELECT Artist.Name, COUNT(Track.TrackId) myCount
FROM Artist
JOIN Album ON Album.ArtistID = Artist.ArtistId
JOIN Track ON Album.AlbumId = Track.AlbumId
ORDER BY COUNT(Track.TrackId)DESC;
</pre>
This doesn't quite work: the result we get is:
<pre>
AC/DC		3504
</pre>
It counted all the tracks in the track table and just added that to the first band in the Artist table. What we need here is the GROUP BY command, allowing us to count the amount of tracks for each artist individually:
<pre>
SELECT Artist.Name, COUNT(Track.TrackId) myCount
FROM Artist
JOIN Album ON Album.ArtistID = Artist.ArtistId
JOIN Track ON Album.AlbumId = Track.AlbumId
GROUP BY Artist.Name
ORDER BY COUNT(Track.TrackId)DESC;
</pre>
This already gives our answer at the top of the table, but if we want to get just the "number one" artist from our query we can use this:
<pre>
SELECT y.ArtistName, MAX(y.trackCount)
FROM(
SELECT Artist.Name AS ArtistName, COUNT(Track.TrackId) AS trackCount
FROM Artist
JOIN Album ON Album.ArtistID = Artist.ArtistId
JOIN Track ON Album.AlbumId = Track.AlbumId
GROUP BY Artist.Name
ORDER BY COUNT(Track.TrackId)DESC) y;
</pre>
Done!<br>
exercise 2: Artist with the most music measured by MilliSeconds<br>
<pre>
SELECT Artist.Name, SUM(Track.Milliseconds)
FROM Artist
JOIN Album ON Artist.ArtistId = Album.ArtistId
JOIN Track ON Album.AlbumId = Track.AlbumId
GROUP BY Artist.Name
ORDER BY SUM(Track.Milliseconds) DESC;
</pre>
